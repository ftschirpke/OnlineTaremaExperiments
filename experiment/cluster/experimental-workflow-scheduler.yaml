apiVersion: v1
kind: Pod
metadata:
  labels:
    app: nextflow
    component: scheduler
    tier: control-plane
  name: workflow-scheduler
spec:
  nodeSelector: 
    friedrich: manager
  containers:
  - env:
    - name: SCHEDULER_NAME
      value: workflow-scheduler
    - name: AUTOCLOSE
      value: "false"
    image: friedricht/online_tarema:exp11
    imagePullPolicy: IfNotPresent
    name: workflow-scheduler
    resources:
      requests:
        cpu: "1"
        memory: 2000Mi
    volumeMounts:
    - mountPath: /input
      name: data
  securityContext:
    runAsUser: 0
  serviceAccount: cwsscheduleraccount
  volumes:
  - name: data
    persistentVolumeClaim:
      claimName: ceph-data
